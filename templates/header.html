<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>{% block title %}Clash Meta Dashboard{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Tailwind via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Plotly via CDN -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

  <!-- Custom CSS (your variables + reusable components) -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}" />
</head>

<body
  class="min-h-screen flex flex-col"
  style="background-color: var(--bg-purple); color: var(--text-white);"
  data-page="{{ page_name|default('home') }}"
>

  <!-- Navbar -->
  <header
    class="backdrop-blur border-b"
    style="border-color: rgba(255,255,255,0.05); background-color: rgba(0,0,0,0.15);"
  >
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">

      <!-- Brand -->
      <a href="{{ url_for('home') }}" class="flex items-center gap-2">
        <div
          class="h-8 w-8 rounded-lg flex items-center justify-center text-sm font-semibold"
          style="
            background-color: rgba(16,185,129,0.15);
            color: var(--emerald-400);
          "
        >
          CM
        </div>

        <div class="leading-tight">
          <span class="text-base font-semibold" style="color: var(--text-white);">Clash Meta</span>
          <span class="text-[11px]" style="color: var(--text-muted);">Personal Data Lab</span>
        </div>
      </a>

      <!-- Nav Links -->
      <nav class="flex items-center gap-6 text-sm">

        <a
          href="{{ url_for('home') }}"
          class="transition-colors"
          style="
            color: {% if active_page == 'home' %}var(--emerald-400){% else %}var(--text-white){% endif %};
          "
        >
          Overview
        </a>

        <a
          href="{{ url_for('cards') }}"
          class="transition-colors"
          style="
            color: {% if active_page == 'cards' %}var(--emerald-400){% else %}var(--text-white){% endif %};
          "
        >
          Cards
        </a>

        <a
          href="{{ url_for('archetypes') }}"
          class="transition-colors"
          style="
            color: {% if active_page == 'archetypes' %}var(--emerald-400){% else %}var(--text-white){% endif %};
          "
        >
          Archetypes
        </a>

      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main class="flex-1">
    <div class="max-w-6xl mx-auto px-4 py-6">
      {% block content %}{% endblock %}
    </div>
  </main>

  <!-- Footer -->
  <footer
    class="border-t"
    style="border-color: rgba(255,255,255,0.05); background-color: rgba(0,0,0,0.15);"
  >
    <div class="max-w-6xl mx-auto px-4 py-4 text-[11px] flex flex-col sm:flex-row gap-2 sm:items-center sm:justify-between">
      <span style="color: var(--text-muted);">Clash Meta — personal Clash Royale analytics project.</span>
      <span style="color: var(--text-muted);">Built with Flask · pandas · Plotly.js · SQLite</span>
    </div>
  </footer>

  <!-- JS -->
  <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
